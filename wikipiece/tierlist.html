<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Tierlist One Piece</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #0d1b2a 0, #000 55%, #020617 100%);
      color: #fff;
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 24px 16px 40px;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      margin-bottom: 20px;
    }

    .title {
      font-size: 1.8rem;
      font-weight: 700;
    }

    .back-link {
      font-size: 0.9rem;
      text-decoration: none;
      color: #9ca3af;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      transition: background 0.15s ease, color 0.15s ease;
    }

    .back-link:hover {
      background: rgba(148, 163, 184, 0.15);
      color: #e5e7eb;
    }

    /* Selector de categoría */
    .category-select {
      margin-bottom: 24px;
    }

    .category-label {
      margin-bottom: 8px;
      font-size: 0.95rem;
      color: #9ca3af;
    }

    .category-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .category-button {
      padding: 8px 16px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: rgba(15,23,42,0.9);
      color: #e5e7eb;
      font-size: 0.95rem;
      cursor: pointer;
      transition: background 0.15s ease, transform 0.15s ease, box-shadow 0.15s ease;
    }

    .category-button.active {
      background: linear-gradient(135deg, #f97316, #ec4899);
      border-color: transparent;
      box-shadow: 0 4px 16px rgba(0,0,0,0.6);
    }

    .category-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
    }

    /* Tierlist */
    .tierlist {
      margin-top: 10px;
    }

    .tier-row {
      display: flex;
      align-items: stretch;
      margin-bottom: 8px;
      border-radius: 8px;
      overflow: hidden;
      background: rgba(15,23,42,0.9);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(148, 163, 184, 0.25);
    }

    .tier-row.pool {
      margin-top: 20px;
    }

    .tier-label {
      width: 60px;
      min-width: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.2rem;
      color: #0b1120;
      background: linear-gradient(135deg, #ff9800, #ff5722);
    }

    .tier-row[data-tier="S"] .tier-label {
      background: linear-gradient(135deg, #ef4444, #f97316);
    }
    .tier-row[data-tier="A"] .tier-label {
      background: linear-gradient(135deg, #f97316, #facc15);
    }
    .tier-row[data-tier="B"] .tier-label {
      background: linear-gradient(135deg, #22c55e, #0ea5e9);
    }
    .tier-row[data-tier="C"] .tier-label {
      background: linear-gradient(135deg, #6366f1, #3b82f6);
    }
    .tier-row[data-tier="D"] .tier-label {
      background: linear-gradient(135deg, #9ca3af, #4b5563);
    }
    .tier-row.pool .tier-label {
      background: linear-gradient(135deg, #020617, #111827);
      color: #e5e7eb;
    }

    .tier-dropzone {
      flex: 1;
      min-height: 90px;
      padding: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      transition: background 0.2s, border 0.2s;
    }

    .tier-dropzone.drag-over {
      background: rgba(148, 163, 184, 0.12);
      border-top: 2px dashed rgba(148, 163, 184, 0.5);
      border-bottom: 2px dashed rgba(148, 163, 184, 0.5);
    }

    .tier-item {
      width: 80px;
      padding: 4px;
      border-radius: 8px;
      background: rgba(15,23,42,0.95);
      border: 1px solid rgba(148, 163, 184, 0.35);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.7);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      cursor: grab;
      user-select: none;
      transition: transform 0.15s ease, box-shadow 0.15s ease, border 0.15s ease;
      font-size: 0.75rem;
      text-align: center;
    }

    .tier-item img {
      width: 100%;
      height: 60px;
      object-fit: cover;
      border-radius: 6px;
    }

    .tier-item:active {
      cursor: grabbing;
    }

    .tier-item.dragging {
      opacity: 0.7;
      transform: scale(1.05);
      box-shadow: 0 10px 24px rgba(0,0,0,0.9);
      border-color: rgba(248, 250, 252, 0.8);
    }

    /* Info bajo la tier */
    .hint {
      margin-top: 12px;
      font-size: 0.8rem;
      color: #9ca3af;
    }

    @media (max-width: 700px) {
      .tier-item {
        width: 70px;
      }
      .tier-item img {
        height: 52px;
      }
    }
  </style>

  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FBNRF3Y3JT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FBNRF3Y3JT');
</script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7576382885352126"
     crossorigin="anonymous"></script>

</head>
<body>




  <div class="container">
    <header>
      <div class="title">Tierlist Interactiva – One Piece</div>
      <a href="index.HTML" class="back-link">← Volver al inicio</a>
    </header>

    <section class="category-select">
      <div class="category-label">Elige la categoría para tu tierlist:</div>
      <div class="category-buttons">
        <button class="category-button active" data-category="mugiwaras">Mugiwaras</button>
        <button class="category-button" data-category="yonkos">Yonkos</button>
        <button class="category-button" data-category="shinchibukai">Shichibukai</button>
        <button class="category-button" data-category="marinos">Marinos</button>
        <button class="category-button" data-category="revolucionarios">Revolucionarios</button>
      </div>
    </section>

    <section class="tierlist">
      <!-- Filas S–D -->
      <div class="tier-row" data-tier="S">
        <div class="tier-label">S</div>
        <div class="tier-dropzone" data-tier="S"></div>
      </div>

      <div class="tier-row" data-tier="A">
        <div class="tier-label">A</div>
        <div class="tier-dropzone" data-tier="A"></div>
      </div>

      <div class="tier-row" data-tier="B">
        <div class="tier-label">B</div>
        <div class="tier-dropzone" data-tier="B"></div>
      </div>

      <div class="tier-row" data-tier="C">
        <div class="tier-label">C</div>
        <div class="tier-dropzone" data-tier="C"></div>
      </div>

      <div class="tier-row" data-tier="D">
        <div class="tier-label">D</div>
        <div class="tier-dropzone" data-tier="D"></div>
      </div>

      <!-- Pool -->
      <div class="tier-row pool" data-tier="pool">
        <div class="tier-label">OP</div>
        <div class="tier-dropzone" data-tier="pool" id="pool"></div>
      </div>
    </section>

    <p class="hint">
      Arrastra los personajes desde la fila <strong>OP</strong> hacia las filas S, A, B, C o D.
      Puedes cambiarlos de lugar cuando quieras.
    </p>
  </div>

  <script>
    // Datos de personajes según categoría (ajústalos a tus imágenes reales)
    const charactersByCategory = {
      mugiwaras: [
        { name: 'Luffy', img: 'IMG_OP/LUFFY.webp' },
        { name: 'Zoro', img: 'IMG_OP/ZORO.jpg' },
        { name: 'Nami', img: 'IMG_OP/NAMI.jpg' },
        { name: 'Usopp', img: 'IMG_OP/USOPP.webp' },
        { name: 'Sanji', img: 'IMG_OP/SANJI.jpg' },
        { name: 'Chopper', img: 'IMG_OP/CHOPPER.jpg' },
        { name: 'Robin', img: 'IMG_OP/ROBIN.jpg' },
        { name: 'Franky', img: 'IMG_OP/FRANKY.jpg' },
        { name: 'Brook', img: 'IMG_OP/BROOK.jpg' },
        { name: 'Jinbe', img: 'IMG_OP/JIMBRE.jpg' }
      ],
      yonkos: [
        { name: 'Kaidou', img: 'IMG_OP/KAIDOU.webp' },
        { name: 'Big Mom', img: 'IMG_OP/BIG_MOM.jpg' },
        { name: 'Shanks', img: 'IMG_OP/SHANKS.webp' },
        { name: 'Barba Blanca', img: 'IMG_OP/BARBA_BLANCA.webp' },
        { name: 'Luffy', img: 'IMG_OP/LUFFY_YONKO.jpg' },
        { name: 'Barba Negra', img: 'IMG_OP/TEACH.webp' },
        { name: 'Buggy', img: 'IMG_OP/BUGGY.jpg' }
      ],
      shinchibukai: [
        { name: 'Jinbe', img: 'IMG_OP/JIMBE_GUERRERO.jpg' },
        { name: 'Crocodile', img: 'IMG_OP/CROCODILE.jpg' },
        { name: 'Doflamingo', img: 'IMG_OP/DOFLAMINGO.jpg' },
        { name: 'Boa Hancock', img: 'IMG_OP/HANCOCK.webp' },
        { name: 'Moria', img: 'IMG_OP/MORIA.webp' },
        { name: 'Mihawk', img: 'IMG_OP/MIHAWK.webp' },
        { name: 'Kuma', img: 'IMG_OP/KUMA.jpg' },
        { name: 'Law', img: 'IMG_OP/LAW.jpg' },
        { name: 'Buggy', img: 'IMG_OP/BUGGY_GUERRERO.jpg' }
      ],
      marinos: [
        { name: 'Fujitora', img: 'IMG_OP/FUJITORA.webp' },
        { name: 'Aokiji', img: 'IMG_OP/AOKIJI.jpg' },
        { name: 'Akainu', img: 'IMG_OP/AKAINU.webp' },
        { name: 'Kizaru', img: 'IMG_OP/KIZARU.webp' },
        { name: 'Sengoku', img: 'IMG_OP/SENGOKU.webp' },
        { name: 'Ryokugyu', img: 'IMG_OP/RYOKUGYU.jpg' },
        { name: 'Garp', img: 'IMG_OP/garp.webp' }
      ],
      revolucionarios: [
        {name: 'Dragon', img: 'IMG_OP/DRAGON.jpg'},
        {name: 'Sabo', img: 'IMG_OP/SABO.webp'},
        {name: 'Koala', img: 'IMG_OP/KOALA.jpg'},
        {name: 'Ivankov', img: 'IMG_OP/IVANKOV.jpg'},
        {name: 'Kuma', img: 'IMG_OP/cuma.jpg'},
        {name: 'Betty', img: 'IMG_OP/BETTY.png'},
        {name: 'Morley', img: 'IMG_OP/MORLEY.webp'},
        {name: 'Lindbergh', img: 'IMG_OP/LINDBERGH.webp'},
        {name: 'Karasu', img: 'IMG_OP/KARASU.png'},
      ]
     };

  // ===== REFERENCIAS =====
const pool = document.getElementById('pool');
const categoryButtons = document.querySelectorAll('.category-button');
const dropzones = document.querySelectorAll('.tier-dropzone');
let draggedItem = null;
let offsetX = 0;
let offsetY = 0;

// Detectar móvil
const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

// ===== CREAR ITEM =====
function createTierItem(character) {
  const div = document.createElement('div');
  div.classList.add('tier-item');
  div.dataset.name = character.name;

  const img = document.createElement('img');
  img.src = character.img;
  img.alt = character.name;

  const span = document.createElement('span');
  span.textContent = character.name;

  div.appendChild(img);
  div.appendChild(span);

  // PC: drag & drop nativo
  if (!isTouchDevice) {
    div.draggable = true;
    div.addEventListener('dragstart', (e) => {
      draggedItem = div;
      div.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
    });
    div.addEventListener('dragend', () => {
      draggedItem = null;
      div.classList.remove('dragging');
    });
  }

  // Móvil: drag táctil
  if (isTouchDevice) {
    div.addEventListener('touchstart', (e) => {
      e.preventDefault();
      draggedItem = div;

      // traer al frente
      div.style.position = 'absolute';
      div.style.zIndex = 1000;

      const touch = e.touches[0];
      const rect = div.getBoundingClientRect();
      offsetX = touch.clientX - rect.left;
      offsetY = touch.clientY - rect.top;

      moveAt(touch.pageX, touch.pageY);
    });

    div.addEventListener('touchmove', (e) => {
      e.preventDefault();
      if (!draggedItem) return;
      const touch = e.touches[0];
      moveAt(touch.pageX, touch.pageY);
    });

    div.addEventListener('touchend', (e) => {
      if (!draggedItem) return;

      // detectar dropzone bajo el dedo
      const touch = e.changedTouches[0];
      const dropZone = document.elementFromPoint(touch.clientX, touch.clientY)
        .closest('.tier-dropzone');

      if (dropZone) {
        dropZone.appendChild(draggedItem);
      } else {
        pool.appendChild(draggedItem);
      }

      // reset estilo
      draggedItem.style.position = '';
      draggedItem.style.zIndex = '';
      draggedItem.style.left = '';
      draggedItem.style.top = '';

      draggedItem = null;
    });

    function moveAt(pageX, pageY) {
      draggedItem.style.left = pageX - offsetX + 'px';
      draggedItem.style.top = pageY - offsetY + 'px';
    }
  }

  return div;
}

// ===== CARGAR CATEGORÍA =====
function loadCategory(categoryKey) {
  pool.innerHTML = '';
  dropzones.forEach((dz) => dz.innerHTML = '');
  const characters = charactersByCategory[categoryKey] || [];
  characters.forEach((ch) => pool.appendChild(createTierItem(ch)));
}

// ===== CONFIGURAR DROPZONES PC =====
if (!isTouchDevice) {
  dropzones.forEach((zone) => {
    zone.addEventListener('dragover', (e) => {
      e.preventDefault();
      zone.classList.add('drag-over');
    });
    zone.addEventListener('dragleave', () => zone.classList.remove('drag-over'));
    zone.addEventListener('drop', () => {
      zone.classList.remove('drag-over');
      if (draggedItem) zone.appendChild(draggedItem);
    });
  });
}

// ===== BOTONES DE CATEGORÍA =====
categoryButtons.forEach((btn) => {
  btn.addEventListener('click', () => {
    categoryButtons.forEach((b) => b.classList.remove('active'));
    btn.classList.add('active');
    loadCategory(btn.dataset.category);
  });
});

// ===== CARGAR MUGIWARAS POR DEFECTO =====
loadCategory('mugiwaras');
  </script>
</body>
</html>
